{{ define "main" }}

<div id="search-results"> </div>
<!-- this template is sucked in by search.js and appended to the search-results div above. So editing here will adjust style -->
<script id="search-result-template" type="text/x-js-template">
    <div class="search-post" id="summary-${key}">
      <h2><a href="${link}">${title}</a></h2>
      <p>${snippet}</p>
    </div>
</script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.0/fuse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js"></script>
{{ $searchTemplate := resources.Get "/js/search.js" }}
{{ $js_search := $searchTemplate | resources.ExecuteAsTemplate "/js/search.js" . | resources.Minify | resources.Fingerprint}}
<script src="{{ $js_search.Permalink}}"></script>
{{ end }}